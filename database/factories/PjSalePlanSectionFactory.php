<?php
/** @var \Illuminate\Database\Eloquent\Factory $factory */
// --------------------------------------------------------------------------
use Carbon\Carbon;
use Faker\Factory as Faker;
// --------------------------------------------------------------------------

// --------------------------------------------------------------------------
$factory->define( App\Models\PjSalePlanSection::class, function(){
    // ----------------------------------------------------------------------
    $result = new \stdClass;
    $faker = Faker::create('ja_JP');
    // ----------------------------------------------------------------------
    
    // ----------------------------------------------------------------------
    $result = new \stdClass;
    // ----------------------------------------------------------------------
    $result->pj_sale_plan_id = 1;
    $result->divisions_number = 1;
    // ----------------------------------------------------------------------
    $result->reference_area = $faker->numberBetween( 1000, 9000 );
    $result->planned_area = $faker->numberBetween( 1000, 9000 );
    // ----------------------------------------------------------------------
    $result->unit_selling_price = $faker->numberBetween( 1000000, 90000000 );
    $result->unit_price = $faker->numberBetween( 1000000, 90000000 );
    // ----------------------------------------------------------------------
    $result->brokerage_fee = $faker->numberBetween( 10000, 900000 );
    $result->brokerage_fee_type = $faker->numberBetween( 1, 3 );
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    // Set brokerage fee sign as negative if type equals 2
    // ----------------------------------------------------------------------
    if( 2 === $result->brokerage_fee_type ){
        $result->brokerage_fee = abs( $result->brokerage_fee ) * -1;
    }
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    $result->created_at = Carbon::now();
    $result->updated_at = Carbon::now();
    // ----------------------------------------------------------------------
    return (array) $result;
    // ----------------------------------------------------------------------
});
// --------------------------------------------------------------------------


// --------------------------------------------------------------------------
$factory->state( App\Models\PjSalePlanSection::class, 'init', function(){
    // ----------------------------------------------------------------------
    $result = new \stdClass;
    // ----------------------------------------------------------------------
    $result->pj_sale_plan_id = null;
    $result->divisions_number = null;
    // ----------------------------------------------------------------------
    $result->reference_area = null;
    $result->planned_area = null;
    // ----------------------------------------------------------------------
    $result->unit_selling_price = null;
    $result->unit_price = null;
    // ----------------------------------------------------------------------
    $result->brokerage_fee = null;
    $result->brokerage_fee_type = null;
    // ----------------------------------------------------------------------
    $result->created_at = null;
    $result->updated_at = null;
    // ----------------------------------------------------------------------
    return (array) $result;
    // ----------------------------------------------------------------------
});
// --------------------------------------------------------------------------
