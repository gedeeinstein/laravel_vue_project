<script> @minify
// --------------------------------------------------------------------------
(function( $, io, document, window, undefined ){
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    // Contract real estate
    // ----------------------------------------------------------------------
    Vue.component( 'important-note-seller-and-occupancy', {
        // ------------------------------------------------------------------
        props: [ 'value', 'target', 'contractors_and_owners_name', 'contractors_name', 'disabled' ],
        template: '#important-note-seller-and-occupancy',
        // ------------------------------------------------------------------

        // ------------------------------------------------------------------
        // Reactive data
        // ------------------------------------------------------------------
        data: function(){
            // --------------------------------------------------------------
            var data = {
                entry: this.value
            };
            // --------------------------------------------------------------

            // --------------------------------------------------------------
            return data;
            // --------------------------------------------------------------
        },
        // ------------------------------------------------------------------

        // ------------------------------------------------------------------
        // Computed properties
        // ------------------------------------------------------------------
        computed: {
            // --------------------------------------------------------------
            // Find out if this section is disabled
            // --------------------------------------------------------------
            isDisabled: function(){
                return this.disabled || false;
            },
            // --------------------------------------------------------------

            // --------------------------------------------------------------
            // Find out if this group is completed
            // --------------------------------------------------------------
            isCompleted: function(){
                var entry = this.entry;
                return entry.seller_and_occupancy_status == true || false;
            },
            // --------------------------------------------------------------

            // --------------------------------------------------------------
            // Find purchase target third person occupied value
            // --------------------------------------------------------------
            building_third_person_occupied: function(){
                let building_third_person_occupied = null;

                let target_buildings = io.get( this.target, 'buildings' );
                if (target_buildings.length > 0) {
                    target_buildings.forEach((target_building, i) => {
                        building_third_person_occupied = target_building.purchase_third_person_occupied
                    });
                }
                return building_third_person_occupied
            },
            // --------------------------------------------------------------

            // --------------------------------------------------------------
            // Find contractor and property owner different name
            // --------------------------------------------------------------
            different_name: function(){
                return this.contractors_and_owners_name.different_name.length
            },
            // --------------------------------------------------------------
        },
        // ------------------------------------------------------------------

        // ------------------------------------------------------------------
        // Watchers
        // ------------------------------------------------------------------
        watch: {
            // --------------------------------------------------------------

            // --------------------------------------------------------------
        },
        // ------------------------------------------------------------------

        // ------------------------------------------------------------------
        // Component methods
        // ------------------------------------------------------------------
        methods: {
            // -----------------------------------------------------------------
            // add contractor name to input text
            // -----------------------------------------------------------------
            add_contractor: function(contractor_name){
                if (!this.entry.seller_and_occupancy_name) this.entry.seller_and_occupancy_name = contractor_name;
                else this.entry.seller_and_occupancy_name += ','+contractor_name;
            }
            // -----------------------------------------------------------------
        }
        // ------------------------------------------------------------------
    });
    // ----------------------------------------------------------------------
}( jQuery, _, document, window ));
// --------------------------------------------------------------------------
@endminify </script>
