<script> @minify
// --------------------------------------------------------------------------
(function( $, io, document, window, undefined ){
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    // Project additional question
    // ----------------------------------------------------------------------
    Vue.component( 'additional-question', {
        // ------------------------------------------------------------------
        props: [ 'value', 'disabled' ],
        template: '#additional-question',
        // ------------------------------------------------------------------

        // ------------------------------------------------------------------
        // Reactive data
        // ------------------------------------------------------------------
        data: function(){
            // --------------------------------------------------------------
            var data = {
                entry: this.value
            };
            // --------------------------------------------------------------

            // --------------------------------------------------------------
            // Define default empty answer data placeholder
            // --------------------------------------------------------------
            var entry = data.entry;
            if( !entry.answer ) Vue.set( entry, 'answer', {});
            // --------------------------------------------------------------
            var answer = io.get( entry, 'answer.answer' );
            if( !answer ){
                if( 2 === entry.input_type ) Vue.set( entry.answer, 'answer', []);
                else Vue.set( entry.answer, 'answer', '' );
            }
            // --------------------------------------------------------------

            // --------------------------------------------------------------
            // console.log( data.entry );
            return data;
            // --------------------------------------------------------------
        },
        // ------------------------------------------------------------------

        // ------------------------------------------------------------------
        // Computed properties
        // ------------------------------------------------------------------
        computed: {
            // --------------------------------------------------------------
            // Find out if this question is disabled
            // --------------------------------------------------------------
            isDisabled: function(){
                var disabled = this.disabled || false;
                return disabled;
            },
            // --------------------------------------------------------------

            // --------------------------------------------------------------
            // Find out if this question has options
            // --------------------------------------------------------------
            hasOptions: function(){
                var entry = this.entry;
                return entry.options && entry.options.length;
            }
            // --------------------------------------------------------------
        },
        // ------------------------------------------------------------------
    });
    // ----------------------------------------------------------------------
}( jQuery, _, document, window ));
// --------------------------------------------------------------------------
@endminify </script>