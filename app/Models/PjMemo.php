<?php
// --------------------------------------------------------------------------
namespace App\Models;
use Illuminate\Database\Eloquent\Model;
// --------------------------------------------------------------------------
use App\Models\User as User;
use App\Models\Project as Project;
use App\Models\PjPurchaseSalePjMemo as SaleMemo;
// --------------------------------------------------------------------------

// --------------------------------------------------------------------------
class PjMemo extends Model {
    // ----------------------------------------------------------------------
    protected $table = 'pj_memos';
    protected $fillable = array(
        'content',
        'disabled'
    );
    // ----------------------------------------------------------------------


    // ----------------------------------------------------------------------
    // Project where this memo belongs to
    // ----------------------------------------------------------------------
    public function project(){
        return $this->belongsTo( Project::class );
    }
    // ----------------------------------------------------------------------


    // ----------------------------------------------------------------------
    // User where this memo belongs to
    // ----------------------------------------------------------------------
    public function user(){
        return $this->belongsTo( User::class );
    }
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    // Purchase sale memo related to this memo
    // ----------------------------------------------------------------------
    public function saleMemo(){
        return $this->hasOne( SaleMemo::class, 'pj_memo_id' );
    }
    // ----------------------------------------------------------------------
}
