<?php
// --------------------------------------------------------------------------
namespace App\Models;
// --------------------------------------------------------------------------
use Carbon\Carbon;
use Illuminate\Database\Eloquent\Model;
// --------------------------------------------------------------------------
use App\Models\MasFinanceUnit as Unit;
// --------------------------------------------------------------------------

// --------------------------------------------------------------------------
class MasFinanceUnitMoney extends Model {
    // ----------------------------------------------------------------------
    protected $table = 'mas_finance_unit_moneys';
    protected $guarded = array( 'id' );
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    // Master Finance Unit which this table belongs to
    // ----------------------------------------------------------------------
    public function unit(){
        return $this->belongsTo( Unit::class );
    }
    // ----------------------------------------------------------------------

    // ----------------------------------------------------------------------
    // Mutator to format date to Y/m/d
    // ----------------------------------------------------------------------
    public function getLoanDateAttribute($value){
        $date = $value;
        if ($value) $date = Carbon::parse($value)->format('Y/m/d');
        return $date;
    }
}
